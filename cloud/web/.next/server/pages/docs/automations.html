<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Automations | Homix Docs</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/bb1d12fc85489bae.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/bb1d12fc85489bae.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-03cd576e71e4cd66.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-9056907143ecf910.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-ed77dc73e0d5a8a5.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/996-4474ff3ca755f204.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/docs/automations-3df29975f34a41e4.js" defer="" crossorigin=""></script><script src="/_next/static/ClGuVYbQkfU_eG19nM7F7/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/ClGuVYbQkfU_eG19nM7F7/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="min-h-screen bg-gray-50"><header class="bg-white shadow-sm border-b"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between items-center h-16"><div class="flex items-center"><a class="flex items-center" href="/"><span class="text-2xl mr-2">üè†</span><span class="text-xl font-semibold">Homix</span></a><span class="ml-4 text-gray-400">/</span><a class="ml-4 text-blue-600 hover:text-blue-700" href="/docs">Documentation</a></div><div class="flex items-center space-x-4"><a class="bg-blue-600 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-700" href="/app">Open App</a></div></div></div></header><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="lg:flex gap-8"><aside class="w-64 flex-shrink-0 mb-8 lg:mb-0"><div class="sticky top-8"><nav class="space-y-6"><div><h3 class="text-sm font-semibold text-gray-900 uppercase tracking-wide mb-3">Getting Started</h3><ul class="space-y-1"><li><a class="block px-3 py-2 text-sm rounded-md transition-colors text-gray-600 hover:text-gray-900 hover:bg-gray-50" href="/docs">Overview</a></li><li><a class="block px-3 py-2 text-sm rounded-md transition-colors text-gray-600 hover:text-gray-900 hover:bg-gray-50" href="/docs/quick-start">Quick Start</a></li><li><a class="block px-3 py-2 text-sm rounded-md transition-colors text-gray-600 hover:text-gray-900 hover:bg-gray-50" href="/docs/installation">Installation</a></li></ul></div><div><h3 class="text-sm font-semibold text-gray-900 uppercase tracking-wide mb-3">Core Concepts</h3><ul class="space-y-1"><li><a class="block px-3 py-2 text-sm rounded-md transition-colors text-gray-600 hover:text-gray-900 hover:bg-gray-50" href="/docs/architecture">Architecture</a></li><li><a class="block px-3 py-2 text-sm rounded-md transition-colors text-gray-600 hover:text-gray-900 hover:bg-gray-50" href="/docs/nats">NATS Messaging</a></li></ul></div><div><h3 class="text-sm font-semibold text-gray-900 uppercase tracking-wide mb-3">Features</h3><ul class="space-y-1"><li><a class="block px-3 py-2 text-sm rounded-md transition-colors text-gray-600 hover:text-gray-900 hover:bg-gray-50" href="/docs/devices">Device Management</a></li><li><a class="block px-3 py-2 text-sm rounded-md transition-colors bg-blue-50 text-blue-700 font-medium" href="/docs/automations">Automations</a></li><li><a class="block px-3 py-2 text-sm rounded-md transition-colors text-gray-600 hover:text-gray-900 hover:bg-gray-50" href="/docs/scenes">Scenes</a></li></ul></div><div><h3 class="text-sm font-semibold text-gray-900 uppercase tracking-wide mb-3">Guides</h3><ul class="space-y-1"><li><a class="block px-3 py-2 text-sm rounded-md transition-colors text-gray-600 hover:text-gray-900 hover:bg-gray-50" href="/docs/guides/troubleshooting">Troubleshooting</a></li></ul></div></nav></div></aside><main class="flex-1 min-w-0"><article class="bg-white rounded-lg shadow-sm border p-8 lg:p-12"><div class="prose prose-lg max-w-none prose-headings:text-gray-900 prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline prose-strong:text-gray-900 prose-code:text-gray-900 prose-code:bg-gray-100 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:before:content-none prose-code:after:content-none"><h1>Automations</h1><p class="text-lg text-gray-600">Create intelligent automations using Homix&#x27;s visual automation designer.</p><h2>Visual Automation Designer</h2><p>Homix features a powerful drag-and-drop automation designer that makes creating complex automations intuitive. No coding required!</p><div class="bg-blue-50 border border-blue-200 rounded-lg p-4 my-6"><h4 class="text-blue-800 font-semibold mt-0">Designer Features</h4><ul class="mb-0 text-blue-700"><li><strong>Visual Flow:</strong> See your automation logic at a glance</li><li><strong>Drag &amp; Drop:</strong> Build automations by connecting components</li><li><strong>Real-time Testing:</strong> Test automations as you build them</li><li><strong>Variable Support:</strong> Use dynamic values with template variables</li></ul></div><h2>Automation Components</h2><p>The automation designer includes several categories of components:</p><h3>Triggers</h3><p>Triggers start your automations when specific events occur:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6 not-prose"><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üì± Device State Changed</h4><p class="text-gray-600 text-sm">Triggers when a device changes state (light turns on, door opens, etc.)</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üì° NATS Event</h4><p class="text-gray-600 text-sm">Listen for events on NATS subjects with wildcard support</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">‚è∞ Time &amp; Schedule</h4><p class="text-gray-600 text-sm">Trigger at specific times or on cron schedules</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üåÖ Sunrise/Sunset</h4><p class="text-gray-600 text-sm">Solar-based triggers that adjust to your location</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üîÑ Interval</h4><p class="text-gray-600 text-sm">Regular interval triggers (every 5 minutes, hourly, etc.)</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üíæ State Changed</h4><p class="text-gray-600 text-sm">Triggers when KV store values change</p></div></div><h3>Actions</h3><p>Actions define what happens when an automation triggers:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6 not-prose"><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üéõÔ∏è Control Device</h4><p class="text-gray-600 text-sm">Send commands to devices (turn on lights, adjust temperature)</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üì§ Publish NATS Event</h4><p class="text-gray-600 text-sm">Publish custom events to NATS subjects</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üíæ Update State</h4><p class="text-gray-600 text-sm">Update values in the KV store</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üé¨ Activate Scene</h4><p class="text-gray-600 text-sm">Activate predefined scenes</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üì¢ Send Notification</h4><p class="text-gray-600 text-sm">Send notifications to mobile devices or services</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">‚è∏Ô∏è Delay</h4><p class="text-gray-600 text-sm">Add delays between actions</p></div></div><h3>Conditions</h3><p>Conditions control when actions execute:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6 not-prose"><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üì± Device State Is</h4><p class="text-gray-600 text-sm">Check if device is in specific state</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">‚è∞ Time Between</h4><p class="text-gray-600 text-sm">Check if current time is within range</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üìÖ Day of Week</h4><p class="text-gray-600 text-sm">Check specific days of the week</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üî¢ Numeric Compare</h4><p class="text-gray-600 text-sm">Compare numeric values with operators</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üåÖ Sun Position</h4><p class="text-gray-600 text-sm">Check if sun is up or down</p></div></div><h3>Logic Components</h3><p>Logic components provide flow control and decision making:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-6 not-prose"><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üîÄ AND/OR/NOT Gates</h4><p class="text-gray-600 text-sm">Boolean logic operations</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üîÄ Switch</h4><p class="text-gray-600 text-sm">Route flow based on values</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">üî¢ Counter</h4><p class="text-gray-600 text-sm">Count events and trigger actions</p></div><div class="border rounded-lg p-4"><h4 class="font-semibold mb-2">‚è±Ô∏è Timer</h4><p class="text-gray-600 text-sm">Time-based logic and delays</p></div></div><h2>Building Your First Automation</h2><p>Let&#x27;s create a simple automation that turns on lights when you arrive home:</p><ol><li>Open the Homix dashboard and navigate to &quot;Automations&quot;</li><li>Click &quot;Create New Automation&quot;</li><li>Drag a &quot;Device State Changed&quot; trigger to the canvas</li><li>Configure it to trigger when your phone&#x27;s location changes</li><li>Add a &quot;Device State Is&quot; condition to check if you&#x27;re home</li><li>Add a &quot;Control Device&quot; action to turn on the lights</li><li>Connect the components by dragging from output to input ports</li><li>Save and enable the automation</li></ol><div class="bg-green-50 border border-green-200 rounded-lg p-4 my-6"><h4 class="text-green-800 font-semibold mt-0">Pro Tip</h4><p class="mb-0 text-green-700">Start with simple automations and gradually add complexity. Test each component individually before connecting them together.</p></div><h2>Advanced Automation Patterns</h2><h3>Presence Detection</h3><p>Create smart presence-aware automations:</p><div class="bg-gray-50 rounded-lg p-4 space-y-2"><div><strong>Phone Tracking:</strong> Use device tracker integrations</div><div><strong>Motion Sensors:</strong> Detect movement in rooms</div><div><strong>Door Sensors:</strong> Track entry and exit</div><div><strong>Bluetooth Beacons:</strong> Room-level presence detection</div></div><h3>Environmental Automations</h3><p>Respond to environmental changes automatically:</p><div class="space-y-4"><div class="border-l-4 border-blue-400 bg-blue-50 p-4"><h4 class="text-blue-800 font-semibold mt-0">Climate Control</h4><p class="text-blue-700 mb-0">Adjust temperature based on weather, occupancy, and time of day.</p></div><div class="border-l-4 border-yellow-400 bg-yellow-50 p-4"><h4 class="text-yellow-800 font-semibold mt-0">Lighting</h4><p class="text-yellow-700 mb-0">Automatically adjust brightness and color temperature throughout the day.</p></div><div class="border-l-4 border-green-400 bg-green-50 p-4"><h4 class="text-green-800 font-semibold mt-0">Security</h4><p class="text-green-700 mb-0">Activate security measures when nobody&#x27;s home or during specific times.</p></div></div><h3>Multi-Stage Automations</h3><p>Create complex automations with multiple stages:</p><div class="bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-2"><div># Example: Bedtime Routine</div><div>1. Trigger: Time is 10:00 PM</div><div>2. Condition: Anyone is home</div><div>3. Action: Dim living room lights to 30%</div><div>4. Delay: 30 minutes</div><div>5. Action: Turn off all lights except bedroom</div><div>6. Action: Set thermostat to night mode</div><div>7. Action: Activate security system</div></div><h2>State Management in Automations</h2><h3>Using Variables</h3><p>Automations support template variables for dynamic behavior:</p><div class="bg-gray-50 rounded-lg p-4 space-y-2"><div><code>{{device.state}}</code> - Current device state</div><div><code>{{trigger.time}}</code> - When the automation was triggered</div><div><code>{{user.name}}</code> - User who triggered the automation</div><div><code>{{weather.temperature}}</code> - Current temperature</div><div><code>{{kv.key_name}}</code> - Value from KV store</div></div><h3>Persistent State</h3><p>Store automation state in the KV store for complex logic:</p><ul><li><strong>Counters:</strong> Track how many times something happened</li><li><strong>Timestamps:</strong> Remember when events occurred</li><li><strong>Flags:</strong> Store boolean states for conditions</li><li><strong>User Preferences:</strong> Store user-specific settings</li></ul><h2>Testing and Debugging</h2><h3>Automation Testing</h3><p>Test your automations before deploying:</p><ol><li><strong>Manual Testing:</strong> Use the &quot;Test&quot; button in the designer</li><li><strong>Simulation:</strong> Use the device simulator to trigger events</li><li><strong>Dry Run:</strong> Enable dry-run mode to see what would happen</li><li><strong>Logging:</strong> Review automation logs for debugging</li></ol><h3>Common Issues</h3><div class="space-y-4"><div class="border-l-4 border-red-400 bg-red-50 p-4"><h4 class="text-red-800 font-semibold mt-0">Automation Not Triggering</h4><ul class="text-red-700 mb-0"><li>Check if automation is enabled</li><li>Verify trigger conditions are met</li><li>Review NATS subject patterns</li><li>Check device connectivity</li></ul></div><div class="border-l-4 border-yellow-400 bg-yellow-50 p-4"><h4 class="text-yellow-800 font-semibold mt-0">Actions Not Executing</h4><ul class="text-yellow-700 mb-0"><li>Verify device states and commands</li><li>Check condition logic</li><li>Review variable substitutions</li><li>Test individual components</li></ul></div><div class="border-l-4 border-blue-400 bg-blue-50 p-4"><h4 class="text-blue-800 font-semibold mt-0">Performance Issues</h4><ul class="text-blue-700 mb-0"><li>Limit trigger frequency</li><li>Use specific NATS subjects</li><li>Optimize condition checking</li><li>Review automation complexity</li></ul></div></div><h2>Automation Examples</h2><h3>Welcome Home</h3><p>Turn on lights and adjust climate when arriving home:</p><div class="bg-gray-100 rounded p-3 text-sm"><strong>Trigger:</strong> Device tracker shows &quot;home&quot;<br/><strong>Condition:</strong> Sun is down<br/><strong>Actions:</strong> Turn on entry lights, set thermostat to 72¬∞F</div><h3>Energy Saving</h3><p>Automatically reduce energy consumption when nobody&#x27;s home:</p><div class="bg-gray-100 rounded p-3 text-sm"><strong>Trigger:</strong> All phones leave home<br/><strong>Actions:</strong> Turn off non-essential lights, set thermostat to away mode, turn off entertainment devices</div><h3>Security Alert</h3><p>Send notifications for unexpected activity:</p><div class="bg-gray-100 rounded p-3 text-sm"><strong>Trigger:</strong> Motion detected<br/><strong>Conditions:</strong> Nobody home AND time between 9 AM - 5 PM<br/><strong>Actions:</strong> Send notification, record security footage, turn on lights</div><h2>Best Practices</h2><h3>Design Guidelines</h3><ul><li><strong>Start Simple:</strong> Begin with basic automations and add complexity gradually</li><li><strong>Test Thoroughly:</strong> Test all edge cases and failure scenarios</li><li><strong>Use Meaningful Names:</strong> Name automations clearly for easy maintenance</li><li><strong>Document Logic:</strong> Add descriptions for complex automation logic</li><li><strong>Monitor Performance:</strong> Watch for automations that trigger too frequently</li></ul><h3>Maintenance</h3><ul><li>Regularly review automation logs</li><li>Update automations when adding/removing devices</li><li>Archive unused automations</li><li>Keep automation count reasonable for performance</li><li>Version control automation configurations</li></ul><h2>Related Documentation</h2><ul><li><a href="/docs/devices">Device Management</a> - Managing devices used in automations</li><li><a href="/docs/scenes">Scenes</a> - Using scenes in automations</li><li><a href="/docs/nats">NATS Messaging</a> - Understanding the messaging system</li><li><a href="/docs/guides/troubleshooting">Troubleshooting</a> - Debugging automation issues</li></ul></div></article></main></div></div></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{}},"page":"/docs/automations","query":{},"buildId":"ClGuVYbQkfU_eG19nM7F7","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>