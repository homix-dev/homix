(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[163],{5179:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/architecture",function(){return r(1440)}])},8187:function(e,s,r){"use strict";r.d(s,{Z:function(){return o}});var i=r(5893),n=r(9008),t=r.n(n),l=r(1664),c=r.n(l),d=r(1163);let a=[{title:"Getting Started",items:[{title:"Overview",href:"/docs"},{title:"Quick Start",href:"/docs/quick-start"},{title:"Installation",href:"/docs/installation"}]},{title:"Core Concepts",items:[{title:"Architecture",href:"/docs/architecture"},{title:"NATS Messaging",href:"/docs/nats"}]},{title:"Features",items:[{title:"Device Management",href:"/docs/devices"},{title:"Automations",href:"/docs/automations"},{title:"Scenes",href:"/docs/scenes"}]},{title:"Guides",items:[{title:"Troubleshooting",href:"/docs/guides/troubleshooting"}]}];function o(e){let{children:s,title:r}=e,n=(0,d.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t(),{children:(0,i.jsx)("title",{children:r?"".concat(r," | Homix Docs"):"Homix Documentation"})}),(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,i.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)(c(),{href:"/",className:"flex items-center",children:[(0,i.jsx)("span",{className:"text-2xl mr-2",children:"\uD83C\uDFE0"}),(0,i.jsx)("span",{className:"text-xl font-semibold",children:"Homix"})]}),(0,i.jsx)("span",{className:"ml-4 text-gray-400",children:"/"}),(0,i.jsx)(c(),{href:"/docs",className:"ml-4 text-blue-600 hover:text-blue-700",children:"Documentation"})]}),(0,i.jsx)("div",{className:"flex items-center space-x-4",children:(0,i.jsx)(c(),{href:"/app",className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-700",children:"Open App"})})]})})}),(0,i.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,i.jsxs)("div",{className:"lg:flex gap-8",children:[(0,i.jsx)("aside",{className:"w-64 flex-shrink-0 mb-8 lg:mb-0",children:(0,i.jsx)("div",{className:"sticky top-8",children:(0,i.jsx)("nav",{className:"space-y-6",children:a.map(e=>(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide mb-3",children:e.title}),(0,i.jsx)("ul",{className:"space-y-1",children:e.items.map(e=>{let s=n.pathname===e.href;return(0,i.jsx)("li",{children:(0,i.jsx)(c(),{href:e.href,className:"block px-3 py-2 text-sm rounded-md transition-colors ".concat(s?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:e.title})},e.href)})})]},e.title))})})}),(0,i.jsx)("main",{className:"flex-1 min-w-0",children:(0,i.jsx)("article",{className:"bg-white rounded-lg shadow-sm border p-8 lg:p-12",children:s})})]})})]})]})}},1440:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return c}});var i=r(5893),n=r(8187),t=r(1664),l=r.n(t);function c(){return(0,i.jsx)(n.Z,{title:"Architecture",children:(0,i.jsxs)("div",{className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline prose-strong:text-gray-900 prose-code:text-gray-900 prose-code:bg-gray-100 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:before:content-none prose-code:after:content-none",children:[(0,i.jsx)("h1",{children:"System Architecture"}),(0,i.jsx)("p",{className:"text-lg text-gray-600",children:"Learn how Homix's cloud-first, NATS-based architecture works."}),(0,i.jsx)("h2",{children:"Overview"}),(0,i.jsx)("p",{children:"Homix uses a distributed architecture that combines edge computing with cloud management. The system is built around NATS messaging for real-time communication between components."}),(0,i.jsx)("div",{className:"bg-gray-50 rounded-lg p-6 my-8",children:(0,i.jsx)("div",{className:"text-center space-y-4",children:(0,i.jsxs)("div",{className:"flex justify-center items-center space-x-8",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-lg flex items-center justify-center text-2xl",children:"\uD83C\uDFE0"}),(0,i.jsx)("div",{className:"mt-2 text-sm font-medium",children:"Edge Server"}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"Your Home"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl",children:"↔️"}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"NATS"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-lg flex items-center justify-center text-2xl",children:"☁️"}),(0,i.jsx)("div",{className:"mt-2 text-sm font-medium",children:"Synadia Cloud"}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"Global"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-2xl",children:"↔️"}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"WebSocket"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"w-20 h-20 bg-purple-100 rounded-lg flex items-center justify-center text-2xl",children:"\uD83D\uDCBB"}),(0,i.jsx)("div",{className:"mt-2 text-sm font-medium",children:"Web App"}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"Anywhere"})]})]})})}),(0,i.jsx)("h2",{children:"Core Components"}),(0,i.jsx)("h3",{children:"Edge Server"}),(0,i.jsx)("p",{children:"The edge server runs locally in your home and serves as the bridge between your devices and the cloud. It handles:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Device Communication:"})," Direct integration with smart home devices"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Local Automation:"})," Execute automations without cloud dependency"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"State Management:"})," Cache device states locally"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Protocol Translation:"})," Convert between device protocols and NATS"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Cloud Synchronization:"})," Keep cloud in sync with local state"]})]}),(0,i.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-6",children:[(0,i.jsx)("h4",{className:"text-blue-800 font-semibold mt-0",children:"Offline Operation"}),(0,i.jsx)("p",{className:"mb-0 text-blue-700",children:"The edge server continues to operate even when disconnected from the cloud, ensuring your automations keep running."})]}),(0,i.jsx)("h3",{children:"NATS Messaging"}),(0,i.jsx)("p",{children:"NATS provides the messaging backbone for Homix, enabling:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Real-Time Communication:"})," Instant message delivery"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Publish-Subscribe:"})," Decoupled component communication"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Persistent Streams:"})," JetStream for reliable message delivery"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Key-Value Store:"})," Distributed state management"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Request-Reply:"})," Synchronous operations when needed"]})]}),(0,i.jsx)("h3",{children:"Cloud Dashboard"}),(0,i.jsx)("p",{children:"The web-based dashboard connects directly to NATS via WebSocket, providing:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Real-Time Updates:"})," Live device state changes"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Visual Automation Designer:"})," Drag-and-drop automation creation"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Remote Management:"})," Control devices from anywhere"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Multi-Home Support:"})," Manage multiple edge servers"]})]}),(0,i.jsx)("h2",{children:"NATS Subject Structure"}),(0,i.jsx)("p",{children:"Homix uses a hierarchical subject structure for organizing messages:"}),(0,i.jsxs)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-1",children:[(0,i.jsx)("div",{children:"# Device communication"}),(0,i.jsxs)("div",{children:["home.devices.","<device_id>",".state     # Device state updates"]}),(0,i.jsxs)("div",{children:["home.devices.","<device_id>",".command   # Device commands"]}),(0,i.jsxs)("div",{children:["home.devices.","<device_id>",".config    # Device configuration"]}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{children:"# System events"}),(0,i.jsx)("div",{children:"home.events.system.service_started    # Service notifications"}),(0,i.jsx)("div",{children:"home.edge.announce                    # Edge server announcements"}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{children:"# Automations"}),(0,i.jsxs)("div",{children:["home.automations.","<id>",".trigger     # Automation triggers"]}),(0,i.jsxs)("div",{children:["home.automations.","<id>",".status      # Automation status"]})]}),(0,i.jsx)("h2",{children:"Data Flow"}),(0,i.jsx)("h3",{children:"Device State Updates"}),(0,i.jsxs)("ol",{children:[(0,i.jsx)("li",{children:"Device changes state (e.g., light turns on)"}),(0,i.jsx)("li",{children:"Edge server detects change"}),(0,i.jsxs)("li",{children:["Edge server publishes to ",(0,i.jsx)("code",{children:"home.devices.light1.state"})]}),(0,i.jsx)("li",{children:"Cloud dashboard receives update via NATS WebSocket"}),(0,i.jsx)("li",{children:"UI updates in real-time"})]}),(0,i.jsx)("h3",{children:"Device Commands"}),(0,i.jsxs)("ol",{children:[(0,i.jsx)("li",{children:"User clicks button in dashboard"}),(0,i.jsxs)("li",{children:["Dashboard publishes to ",(0,i.jsx)("code",{children:"home.devices.light1.command"})]}),(0,i.jsx)("li",{children:"Edge server receives command"}),(0,i.jsx)("li",{children:"Edge server executes command on device"}),(0,i.jsx)("li",{children:"Device state update flows back (see above)"})]}),(0,i.jsx)("h3",{children:"Automation Execution"}),(0,i.jsxs)("ol",{children:[(0,i.jsx)("li",{children:"Trigger condition met (e.g., time of day)"}),(0,i.jsx)("li",{children:"Edge server publishes trigger event"}),(0,i.jsx)("li",{children:"Automation engine processes trigger"}),(0,i.jsx)("li",{children:"Actions executed (device commands, notifications, etc.)"}),(0,i.jsx)("li",{children:"Status updates published to cloud"})]}),(0,i.jsx)("h2",{children:"Key-Value Storage"}),(0,i.jsx)("p",{children:"Homix uses NATS KV buckets for distributed state management:"}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full border border-gray-300",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Bucket"}),(0,i.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Purpose"}),(0,i.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"TTL"})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-mono",children:"devices"}),(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:"Device registry cache"}),(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:"2 minutes"})]}),(0,i.jsxs)("tr",{className:"bg-gray-50",children:[(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-mono",children:"automations"}),(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:"Automation definitions"}),(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:"Persistent"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-mono",children:"scenes"}),(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:"Scene definitions"}),(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:"Persistent"})]}),(0,i.jsxs)("tr",{className:"bg-gray-50",children:[(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-mono",children:"automation-state"}),(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:"Runtime automation state"}),(0,i.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:"Varies"})]})]})]})}),(0,i.jsx)("h2",{children:"Security"}),(0,i.jsx)("h3",{children:"Authentication"}),(0,i.jsx)("p",{children:"Homix uses NATS JWT authentication via Synadia Cloud:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Credentials Files:"})," Securely store authentication tokens"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Automatic Rotation:"})," Tokens refreshed automatically"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Scoped Access:"})," Fine-grained permissions per component"]})]}),(0,i.jsx)("h3",{children:"Transport Security"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"TLS Encryption:"})," All NATS traffic encrypted in transit"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"WebSocket Security:"})," WSS for browser connections"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Certificate Validation:"})," Verify server identity"]})]}),(0,i.jsx)("h2",{children:"Scalability"}),(0,i.jsx)("h3",{children:"Horizontal Scaling"}),(0,i.jsx)("p",{children:"The architecture supports scaling in multiple dimensions:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Multiple Homes:"})," Each edge server operates independently"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Device Scaling:"})," Support for thousands of devices per home"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Geographic Distribution:"})," Global NATS infrastructure"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Load Balancing:"})," Multiple cloud dashboard instances"]})]}),(0,i.jsx)("h3",{children:"Performance Characteristics"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Low Latency:"})," Sub-second response times"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"High Throughput:"})," Thousands of messages per second"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Efficient Bandwidth:"})," Binary protocol with compression"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Local Processing:"})," Reduced cloud dependency"]})]}),(0,i.jsx)("h2",{children:"Deployment Patterns"}),(0,i.jsx)("h3",{children:"Single Home"}),(0,i.jsx)("p",{children:"Basic deployment with one edge server and cloud access:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Edge server in home network"}),(0,i.jsx)("li",{children:"Synadia Cloud for messaging"}),(0,i.jsx)("li",{children:"Web dashboard for management"})]}),(0,i.jsx)("h3",{children:"Multi-Home"}),(0,i.jsx)("p",{children:"Multiple properties with centralized management:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Edge server per location"}),(0,i.jsx)("li",{children:"Shared cloud dashboard"}),(0,i.jsx)("li",{children:"Cross-home automations possible"})]}),(0,i.jsx)("h3",{children:"Air-Gapped"}),(0,i.jsx)("p",{children:"Local-only deployment without cloud connectivity:"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Edge server with local NATS"}),(0,i.jsx)("li",{children:"Local dashboard only"}),(0,i.jsx)("li",{children:"No remote access"})]}),(0,i.jsx)("h2",{children:"Design Principles"}),(0,i.jsx)("h3",{children:"Cloud-First"}),(0,i.jsx)("p",{children:"Designed for cloud management with local execution for reliability."}),(0,i.jsx)("h3",{children:"Event-Driven"}),(0,i.jsx)("p",{children:"All communication happens through events, enabling loose coupling and scalability."}),(0,i.jsx)("h3",{children:"Real-Time"}),(0,i.jsx)("p",{children:"Low-latency messaging ensures immediate response to device changes and user actions."}),(0,i.jsx)("h3",{children:"Fault Tolerant"}),(0,i.jsx)("p",{children:"System continues operating during network partitions and component failures."}),(0,i.jsx)("h2",{children:"Next Steps"}),(0,i.jsx)("p",{children:"To learn more about specific components:"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-6 not-prose",children:[(0,i.jsxs)(l(),{href:"/docs/nats",className:"block border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83D\uDCE1 NATS Messaging"}),(0,i.jsx)("p",{className:"text-gray-600 text-sm",children:"Deep dive into NATS subjects and patterns"})]}),(0,i.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83C\uDFE0 Edge Server"}),(0,i.jsx)("p",{className:"text-gray-600 text-sm",children:"Learn about the edge server internals (coming soon)"})]}),(0,i.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83D\uDD0C API Reference"}),(0,i.jsx)("p",{className:"text-gray-600 text-sm",children:"Complete NATS subject and message reference (coming soon)"})]}),(0,i.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,i.jsx)("h4",{className:"font-semibold mb-2",children:"☁️ Synadia Setup"}),(0,i.jsx)("p",{className:"text-gray-600 text-sm",children:"Configure Synadia Cloud for your deployment (coming soon)"})]})]})]})})}},1163:function(e,s,r){e.exports=r(2937)}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=5179)}),_N_E=e.O()}]);