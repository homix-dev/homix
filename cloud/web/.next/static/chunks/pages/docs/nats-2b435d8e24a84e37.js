(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[509],{4232:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/nats",function(){return i(8925)}])},8187:function(e,s,i){"use strict";i.d(s,{Z:function(){return o}});var n=i(5893),r=i(9008),c=i.n(r),t=i(1664),d=i.n(t),l=i(1163);let a=[{title:"Getting Started",items:[{title:"Overview",href:"/docs"},{title:"Quick Start",href:"/docs/quick-start"},{title:"Installation",href:"/docs/installation"}]},{title:"Core Concepts",items:[{title:"Architecture",href:"/docs/architecture"},{title:"NATS Messaging",href:"/docs/nats"}]},{title:"Features",items:[{title:"Device Management",href:"/docs/devices"},{title:"Automations",href:"/docs/automations"},{title:"Scenes",href:"/docs/scenes"}]},{title:"Guides",items:[{title:"Troubleshooting",href:"/docs/guides/troubleshooting"}]}];function o(e){let{children:s,title:i}=e,r=(0,l.useRouter)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c(),{children:(0,n.jsx)("title",{children:i?"".concat(i," | Homix Docs"):"Homix Documentation"})}),(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsxs)(d(),{href:"/",className:"flex items-center",children:[(0,n.jsx)("span",{className:"text-2xl mr-2",children:"\uD83C\uDFE0"}),(0,n.jsx)("span",{className:"text-xl font-semibold",children:"Homix"})]}),(0,n.jsx)("span",{className:"ml-4 text-gray-400",children:"/"}),(0,n.jsx)(d(),{href:"/docs",className:"ml-4 text-blue-600 hover:text-blue-700",children:"Documentation"})]}),(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsx)(d(),{href:"/app",className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm hover:bg-blue-700",children:"Open App"})})]})})}),(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,n.jsxs)("div",{className:"lg:flex gap-8",children:[(0,n.jsx)("aside",{className:"w-64 flex-shrink-0 mb-8 lg:mb-0",children:(0,n.jsx)("div",{className:"sticky top-8",children:(0,n.jsx)("nav",{className:"space-y-6",children:a.map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wide mb-3",children:e.title}),(0,n.jsx)("ul",{className:"space-y-1",children:e.items.map(e=>{let s=r.pathname===e.href;return(0,n.jsx)("li",{children:(0,n.jsx)(d(),{href:e.href,className:"block px-3 py-2 text-sm rounded-md transition-colors ".concat(s?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:e.title})},e.href)})})]},e.title))})})}),(0,n.jsx)("main",{className:"flex-1 min-w-0",children:(0,n.jsx)("article",{className:"bg-white rounded-lg shadow-sm border p-8 lg:p-12",children:s})})]})})]})]})}},8925:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return d}});var n=i(5893),r=i(8187),c=i(1664),t=i.n(c);function d(){return(0,n.jsx)(r.Z,{title:"NATS Messaging",children:(0,n.jsxs)("div",{className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline prose-strong:text-gray-900 prose-code:text-gray-900 prose-code:bg-gray-100 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:before:content-none prose-code:after:content-none",children:[(0,n.jsx)("h1",{children:"NATS Messaging"}),(0,n.jsx)("p",{className:"text-lg text-gray-600",children:"Understanding the NATS messaging system that powers Homix communication."}),(0,n.jsx)("h2",{children:"What is NATS?"}),(0,n.jsx)("p",{children:"NATS is a simple, secure, and performant communications system for digital systems, services, and devices. Homix uses NATS as its core messaging backbone to enable real-time communication between devices, services, and the cloud."}),(0,n.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-6",children:[(0,n.jsx)("h4",{className:"text-blue-800 font-semibold mt-0",children:"Why NATS for Home Automation?"}),(0,n.jsxs)("ul",{className:"mb-0 text-blue-700",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Real-time:"})," Ultra-low latency messaging for instant device responses"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Scalable:"})," Handles thousands of devices and messages efficiently"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Resilient:"})," Built-in redundancy and fault tolerance"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Secure:"})," Strong authentication and encryption capabilities"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Simple:"})," Easy to understand subject-based routing"]})]})]}),(0,n.jsx)("h2",{children:"NATS Architecture in Homix"}),(0,n.jsx)("p",{children:"Homix uses a hybrid NATS architecture with local and cloud components:"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 my-6 not-prose",children:[(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83C\uDFE0 Local NATS Server"}),(0,n.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:"Runs on your edge server for local communication"}),(0,n.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,n.jsx)("li",{children:"Device-to-device communication"}),(0,n.jsx)("li",{children:"Local automation execution"}),(0,n.jsx)("li",{children:"Offline operation capability"}),(0,n.jsx)("li",{children:"Low-latency responses"})]})]}),(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"☁️ Synadia Cloud"}),(0,n.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:"Global NATS network for cloud connectivity"}),(0,n.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,n.jsx)("li",{children:"Remote access and control"}),(0,n.jsx)("li",{children:"Multi-home management"}),(0,n.jsx)("li",{children:"Cloud automations"}),(0,n.jsx)("li",{children:"Mobile app connectivity"})]})]})]}),(0,n.jsx)("h2",{children:"Subject Structure"}),(0,n.jsx)("p",{children:"NATS uses a subject-based messaging system. Homix organizes subjects hierarchically for clear communication patterns:"}),(0,n.jsx)("h3",{children:"Device Communication"}),(0,n.jsxs)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-2",children:[(0,n.jsx)("div",{children:"# Device state updates"}),(0,n.jsxs)("div",{children:["home.devices.","{device_id}",".state"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Device commands"}),(0,n.jsxs)("div",{children:["home.devices.","{device_id}",".command"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Device announcements"}),(0,n.jsxs)("div",{children:["home.devices.","{device_id}",".announce"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Device configuration"}),(0,n.jsxs)("div",{children:["home.devices.","{device_id}",".config"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Device offline notifications"}),(0,n.jsxs)("div",{children:["home.devices.","{device_id}",".offline"]})]}),(0,n.jsx)("h3",{children:"System Events"}),(0,n.jsxs)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-2",children:[(0,n.jsx)("div",{children:"# General events"}),(0,n.jsx)("div",{children:"home.events.*"}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Service lifecycle"}),(0,n.jsx)("div",{children:"home.events.system.service_started"}),(0,n.jsx)("div",{children:"home.events.system.service_stopped"}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# User events"}),(0,n.jsx)("div",{children:"home.events.user.login"}),(0,n.jsx)("div",{children:"home.events.user.logout"})]}),(0,n.jsx)("h3",{children:"Automation System"}),(0,n.jsxs)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-2",children:[(0,n.jsx)("div",{children:"# Automation triggers"}),(0,n.jsxs)("div",{children:["home.automations.","{id}",".trigger"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Automation status"}),(0,n.jsxs)("div",{children:["home.automations.","{id}",".status"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Scene activation"}),(0,n.jsxs)("div",{children:["home.scenes.","{id}",".activate"]})]}),(0,n.jsx)("h3",{children:"Service Health"}),(0,n.jsxs)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-2",children:[(0,n.jsx)("div",{children:"# Service status"}),(0,n.jsxs)("div",{children:["home.services.","{service}",".status"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Health checks"}),(0,n.jsxs)("div",{children:["home.services.","{service}",".health"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Discovery"}),(0,n.jsx)("div",{children:"home.discovery.announce"}),(0,n.jsx)("div",{children:"home.discovery.request"})]}),(0,n.jsx)("h2",{children:"Message Patterns"}),(0,n.jsx)("h3",{children:"Request-Reply"}),(0,n.jsx)("p",{children:"Used for commands that need acknowledgment:"}),(0,n.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 space-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Request:"})," Send command to device"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Reply:"})," Device confirms execution"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Timeout:"})," Handle no response scenarios"]})]}),(0,n.jsx)("h3",{children:"Publish-Subscribe"}),(0,n.jsx)("p",{children:"Used for broadcasting state updates and events:"}),(0,n.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 space-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Publisher:"})," Device publishes state changes"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Subscribers:"})," Multiple services listen for updates"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Wildcards:"})," Subscribe to patterns like ",(0,n.jsx)("code",{children:"devices.*.state"})]})]}),(0,n.jsx)("h3",{children:"Queue Groups"}),(0,n.jsx)("p",{children:"Used for load balancing and high availability:"}),(0,n.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 space-y-2 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Load Balancing:"})," Distribute work across multiple instances"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Failover:"})," Automatic handling of service failures"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Scaling:"})," Add more workers to handle increased load"]})]}),(0,n.jsx)("h2",{children:"JetStream for Persistence"}),(0,n.jsx)("p",{children:"Homix uses NATS JetStream for message persistence and guaranteed delivery:"}),(0,n.jsx)("h3",{children:"Streams"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"border-l-4 border-blue-400 bg-blue-50 p-4",children:[(0,n.jsx)("h4",{className:"text-blue-800 font-semibold mt-0",children:"Device States Stream"}),(0,n.jsx)("p",{className:"text-blue-700 mb-0",children:"Stores device state history for analytics and recovery"})]}),(0,n.jsxs)("div",{className:"border-l-4 border-green-400 bg-green-50 p-4",children:[(0,n.jsx)("h4",{className:"text-green-800 font-semibold mt-0",children:"Events Stream"}),(0,n.jsx)("p",{className:"text-green-700 mb-0",children:"Persists system events for audit trails and debugging"})]}),(0,n.jsxs)("div",{className:"border-l-4 border-yellow-400 bg-yellow-50 p-4",children:[(0,n.jsx)("h4",{className:"text-yellow-800 font-semibold mt-0",children:"Automation Stream"}),(0,n.jsx)("p",{className:"text-yellow-700 mb-0",children:"Stores automation execution history and state"})]})]}),(0,n.jsx)("h3",{children:"Key-Value Store"}),(0,n.jsx)("p",{children:"JetStream KV buckets provide distributed state storage:"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-6 not-prose",children:[(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"⏱️ With TTL (Expirable)"}),(0,n.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"devices"})," - Device cache (2 min)"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"device_registry"})," - Discovery cache (5 min)"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"automation-state"})," - Runtime state (varies)"]})]})]}),(0,n.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"♾️ Persistent (No TTL)"}),(0,n.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"device-configs"})," - Device templates"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"automations"})," - Automation definitions"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"scenes"})," - Scene definitions"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"users"})," - User accounts"]})]})]})]}),(0,n.jsx)("h2",{children:"Security and Authentication"}),(0,n.jsx)("h3",{children:"Synadia Cloud Credentials"}),(0,n.jsx)("p",{children:"Homix uses Synadia Cloud for secure, authenticated NATS connectivity:"}),(0,n.jsxs)("ol",{children:[(0,n.jsxs)("li",{children:["Create account at ",(0,n.jsx)("a",{href:"https://app.ngs.global",target:"_blank",rel:"noopener noreferrer",children:"app.ngs.global"})]}),(0,n.jsx)("li",{children:"Generate credentials file for your context"}),(0,n.jsxs)("li",{children:["Place credentials in ",(0,n.jsx)("code",{children:"~/.synadia/"})]}),(0,n.jsx)("li",{children:"Edge server automatically uses credentials for cloud connectivity"})]}),(0,n.jsx)("h3",{children:"Local Security"}),(0,n.jsx)("p",{children:"Local NATS server security features:"}),(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"User Authentication:"})," Username/password or token-based auth"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"TLS Encryption:"})," Encrypted communication between clients"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Authorization:"})," Subject-based permissions and ACLs"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Account Isolation:"})," Separate namespaces for different services"]})]}),(0,n.jsx)("h2",{children:"Using NATS with Homix"}),(0,n.jsx)("h3",{children:"Device Integration"}),(0,n.jsx)("p",{children:"Devices connect to NATS for communication:"}),(0,n.jsxs)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-2",children:[(0,n.jsx)("div",{children:"# Python example for device integration"}),(0,n.jsx)("div",{children:"import nats"}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"async def device_handler():"}),(0,n.jsx)("div",{children:'\xa0\xa0\xa0\xa0nc = await nats.connect("nats://localhost:4222")'}),(0,n.jsx)("div",{children:"\xa0\xa0\xa0\xa0"}),(0,n.jsx)("div",{children:"\xa0\xa0\xa0\xa0# Publish device state"}),(0,n.jsx)("div",{children:'\xa0\xa0\xa0\xa0await nc.publish("home.devices.lamp1.state", '}),(0,n.jsxs)("div",{children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0b'",'{"state": "on", "brightness": 80}',"')"]}),(0,n.jsx)("div",{children:"\xa0\xa0\xa0\xa0"}),(0,n.jsx)("div",{children:"\xa0\xa0\xa0\xa0# Subscribe to commands"}),(0,n.jsx)("div",{children:'\xa0\xa0\xa0\xa0await nc.subscribe("home.devices.lamp1.command", '}),(0,n.jsx)("div",{children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0cb=handle_command)"})]}),(0,n.jsx)("h3",{children:"Automation Integration"}),(0,n.jsx)("p",{children:"Automations use NATS for triggers and actions:"}),(0,n.jsxs)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-2",children:[(0,n.jsx)("div",{children:"# Subscribe to device events"}),(0,n.jsx)("div",{children:'nats sub "home.devices.*.state"'}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Publish automation triggers"}),(0,n.jsxs)("div",{children:["nats pub home.automations.welcome_home.trigger '","'"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Monitor all home events"}),(0,n.jsx)("div",{children:'nats sub "home.>"'})]}),(0,n.jsx)("h3",{children:"Dashboard Integration"}),(0,n.jsx)("p",{children:"Web dashboard connects via WebSocket for real-time updates:"}),(0,n.jsxs)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-2",children:[(0,n.jsx)("div",{children:"// JavaScript WebSocket connection"}),(0,n.jsxs)("div",{children:["const nc = await connect(","{",'servers: ["ws://localhost:9222"]',"}",")"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"// Subscribe to device updates"}),(0,n.jsx)("div",{children:'const sub = nc.subscribe("home.devices.*.state")'}),(0,n.jsxs)("div",{children:["for await (const msg of sub) ","{"]}),(0,n.jsx)("div",{children:"\xa0\xa0const device = JSON.parse(new TextDecoder().decode(msg.data))"}),(0,n.jsx)("div",{children:"\xa0\xa0updateDashboard(device)"}),(0,n.jsx)("div",{children:"}"})]}),(0,n.jsx)("h2",{children:"Monitoring and Debugging"}),(0,n.jsx)("h3",{children:"NATS Monitoring"}),(0,n.jsx)("p",{children:"Monitor NATS server performance and health:"}),(0,n.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Web Monitor:"})," ",(0,n.jsx)("a",{href:"http://localhost:8222",target:"_blank",children:"http://localhost:8222"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Server Stats:"})," ",(0,n.jsx)("code",{children:"nats server check"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Connection Info:"})," ",(0,n.jsx)("code",{children:"nats server ping"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Subject Lists:"})," ",(0,n.jsx)("code",{children:"nats server subjects"})]})]}),(0,n.jsx)("h3",{children:"Message Debugging"}),(0,n.jsx)("p",{children:"Debug message flow and content:"}),(0,n.jsxs)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 font-mono text-sm space-y-2",children:[(0,n.jsx)("div",{children:"# Monitor all messages"}),(0,n.jsx)("div",{children:'nats sub ">"'}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Monitor device messages only"}),(0,n.jsx)("div",{children:'nats sub "home.devices.>"'}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Test message publishing"}),(0,n.jsxs)("div",{children:["nats pub home.devices.test.state '",'{"test": true}',"'"]}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:"# Check JetStream status"}),(0,n.jsx)("div",{children:"nats stream list"}),(0,n.jsx)("div",{children:"nats kv list"})]}),(0,n.jsx)("h3",{children:"Performance Monitoring"}),(0,n.jsx)("p",{children:"Track NATS performance metrics:"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"border-l-4 border-blue-400 bg-blue-50 p-4",children:[(0,n.jsx)("h4",{className:"text-blue-800 font-semibold mt-0",children:"Message Rates"}),(0,n.jsx)("p",{className:"text-blue-700 mb-0",children:"Monitor messages per second for capacity planning"})]}),(0,n.jsxs)("div",{className:"border-l-4 border-green-400 bg-green-50 p-4",children:[(0,n.jsx)("h4",{className:"text-green-800 font-semibold mt-0",children:"Latency"}),(0,n.jsx)("p",{className:"text-green-700 mb-0",children:"Track round-trip times for performance optimization"})]}),(0,n.jsxs)("div",{className:"border-l-4 border-yellow-400 bg-yellow-50 p-4",children:[(0,n.jsx)("h4",{className:"text-yellow-800 font-semibold mt-0",children:"Memory Usage"}),(0,n.jsx)("p",{className:"text-yellow-700 mb-0",children:"Monitor memory consumption for stream and KV storage"})]})]}),(0,n.jsx)("h2",{children:"Best Practices"}),(0,n.jsx)("h3",{children:"Subject Design"}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Hierarchical:"})," Use dot notation for logical grouping"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Descriptive:"})," Make subjects self-explanatory"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Consistent:"})," Follow naming conventions throughout"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Specific:"})," Use specific subjects to avoid unnecessary traffic"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Versioned:"})," Consider versioning for API compatibility"]})]}),(0,n.jsx)("h3",{children:"Message Design"}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"JSON Format:"})," Use JSON for structured data"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Schema Validation:"})," Define and validate message schemas"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Timestamps:"})," Include timestamps for ordering and debugging"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Error Handling:"})," Design for graceful error scenarios"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("strong",{children:"Size Limits:"})," Keep messages reasonably sized"]})]}),(0,n.jsx)("h3",{children:"Performance Optimization"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"Use queue groups for load balancing"}),(0,n.jsx)("li",{children:"Implement proper backpressure handling"}),(0,n.jsx)("li",{children:"Choose appropriate JetStream retention policies"}),(0,n.jsx)("li",{children:"Monitor and tune JetStream limits"}),(0,n.jsx)("li",{children:"Use wildcards judiciously to avoid message storms"})]}),(0,n.jsx)("h2",{children:"Troubleshooting Common Issues"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"border-l-4 border-red-400 bg-red-50 p-4",children:[(0,n.jsx)("h4",{className:"text-red-800 font-semibold mt-0",children:"Connection Issues"}),(0,n.jsxs)("ul",{className:"text-red-700 mb-0",children:[(0,n.jsxs)("li",{children:["Check NATS server is running: ",(0,n.jsx)("code",{children:"nats server check"})]}),(0,n.jsx)("li",{children:"Verify network connectivity and firewall settings"}),(0,n.jsx)("li",{children:"Check credentials and authentication"}),(0,n.jsx)("li",{children:"Review client connection parameters"})]})]}),(0,n.jsxs)("div",{className:"border-l-4 border-yellow-400 bg-yellow-50 p-4",children:[(0,n.jsx)("h4",{className:"text-yellow-800 font-semibold mt-0",children:"Message Delivery Issues"}),(0,n.jsxs)("ul",{className:"text-yellow-700 mb-0",children:[(0,n.jsx)("li",{children:"Verify subject names match exactly"}),(0,n.jsx)("li",{children:"Check subscriber queue groups"}),(0,n.jsx)("li",{children:"Review JetStream stream configuration"}),(0,n.jsx)("li",{children:"Monitor message acknowledgments"})]})]}),(0,n.jsxs)("div",{className:"border-l-4 border-blue-400 bg-blue-50 p-4",children:[(0,n.jsx)("h4",{className:"text-blue-800 font-semibold mt-0",children:"Performance Problems"}),(0,n.jsxs)("ul",{className:"text-blue-700 mb-0",children:[(0,n.jsx)("li",{children:"Check message rates and sizes"}),(0,n.jsx)("li",{children:"Review JetStream resource usage"}),(0,n.jsx)("li",{children:"Optimize subject patterns and wildcards"}),(0,n.jsx)("li",{children:"Consider horizontal scaling"})]})]})]}),(0,n.jsx)("h2",{children:"Advanced Topics"}),(0,n.jsx)("h3",{children:"Multi-Tenancy"}),(0,n.jsx)("p",{children:"Support multiple homes or organizations:"}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-3 text-sm",children:"Use NATS accounts to isolate different homes or tenants while sharing infrastructure"}),(0,n.jsx)("h3",{children:"Edge Computing"}),(0,n.jsx)("p",{children:"Optimize for edge scenarios:"}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-3 text-sm",children:"Local NATS servers provide low-latency communication even when cloud connectivity is limited"}),(0,n.jsx)("h3",{children:"Integration Patterns"}),(0,n.jsx)("p",{children:"Common integration approaches:"}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-3 text-sm",children:"Bridge protocols, transform messages, and integrate with external systems using NATS connectors"}),(0,n.jsx)("h2",{children:"Related Documentation"}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)(t(),{href:"/docs/devices",children:"Device Management"})," - How devices use NATS"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)(t(),{href:"/docs/automations",children:"Automations"})," - NATS triggers and actions"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)(t(),{href:"/docs/architecture",children:"Architecture"})," - Overall system design"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)(t(),{href:"/docs/guides/troubleshooting",children:"Troubleshooting"})," - NATS debugging guide"]})]}),(0,n.jsx)("h2",{children:"External Resources"}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("a",{href:"https://nats.io",target:"_blank",rel:"noopener noreferrer",children:"NATS.io"})," - Official NATS documentation"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("a",{href:"https://docs.synadia.com",target:"_blank",rel:"noopener noreferrer",children:"Synadia Cloud"})," - Cloud NATS service documentation"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("a",{href:"https://natsbyexample.com",target:"_blank",rel:"noopener noreferrer",children:"NATS by Example"})," - Code examples and tutorials"]})]})]})})}},1163:function(e,s,i){e.exports=i(2937)}},function(e){e.O(0,[996,774,888,179],function(){return e(e.s=4232)}),_N_E=e.O()}]);